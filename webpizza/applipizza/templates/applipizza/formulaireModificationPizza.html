{% extends 'applipizza/base.html' %}

{% block title %}
modification d'une pizza
{% endblock %}

{% block main %}
<h2 class="text-center">Modification d'une pizza</h2>

<!-- action dans la balise form va indiquer ou va aller l'utilisateur quand il appuiera sur le bouton 'continuer'  -->
<form action="/pizzas/{{ pizza.idIPizza }}/updated/" enctype="multipart/form-data" method="post" class="container mx-auto">
    {% csrf_token %}
    <div class="mb-3">
        <label for="id_nomPizza" class="form-label">Nom de la pizza</label>
        <input type="text" name="nomPizza" class="form-control" required id="id_nomPizza" value="{{pizza.nomPizza}}">
    </div>
    <div class="mb-3">
        <label for="id_prix" class="form-label">Prix de la pizza</label>
        <input type="number" step="0.01" name="prix" value="0" min="0" step="0.01" class="form-control" required id="id_prix" value="{{pizza.prix}}">
    </div>
    <div class="mb-3">
        <div class="divImgPizza">
            <img class="imagePizza" src="{{ MEDIA_URL }}{{ pizza.image }}" alt="photo de la pizza {{ piz.nomPizza }}" title="{{ piz.nomPizza }}" style="max-width: 100%; max-height: 200px;">
        </div>

        <div class="divNomPizza"><i>fichier actuel : {{pizza.image}}</i></div>
        <input class="form-control" name="image" type="file" accept="image/*" id="id_image">
    </div>
    <button type="submit" class="btn btn-primary">Envoyer</button>
</form>
{% endblock %}